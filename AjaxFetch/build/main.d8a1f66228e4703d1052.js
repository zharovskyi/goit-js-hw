(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Iy9k:function(t,e,n){var s=n("mp5j");t.exports=(s.default||s).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,s,o){var l,a=null!=e?e:t.nullContext||{},i=n.helperMissing,r=t.escapeExpression;return'<li class="posts__item">\n <h3>'+r("function"==typeof(l=null!=(l=n.title||(null!=e?e.title:e))?l:i)?l.call(a,{name:"title",hash:{},data:o}):l)+"</h3>\n <p>"+r("function"==typeof(l=null!=(l=n.text||(null!=e?e.text:e))?l:i)?l.call(a,{name:"text",hash:{},data:o}):l)+'</p>\n <button data-id="'+r("function"==typeof(l=null!=(l=n.id||(null!=e?e.id:e))?l:i)?l.call(a,{name:"id",hash:{},data:o}):l)+'">delete</button>\n</li>\n    \n  '},useData:!0})},L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("L1EO");var s=n("Iy9k"),o=n.n(s);const l="http://localhost:3000",a={post:[],refs:{form:document.querySelector(".form"),postsList:document.querySelector(".posts")},getPosts(){fetch(`${l}/posts`).then(t=>t.json()).then(t=>{console.log("data :",t),this.posts=t,this.render()})},createPost(t){fetch(`${l}/posts`,{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{this.posts.push(t),console.log("data :",t),this.refs.postsList.insertAdjacentHTML("beforeend",o()(t))})},render(){const t=this.posts.map(t=>o()(t)).join("");this.refs.postsList.insertAdjacentHTML("beforeend",t)}};a.refs.form.addEventListener("submit",function(t){t.preventDefault(),console.log("e.currentTarget.elements.title :",t.currentTarget.elements.title);const e={title:t.currentTarget.elements.title.value,text:t.currentTarget.elements.text.value};a.createPost(e)}),a.getPosts(),a.refs.postsList.addEventListener("click",function(t){if("BUTTON"===t.target.nodeName){const e=t.target.dataset.id;fetch(`${l}/posts/${e}`,{method:"DELETE"}).then(t=>t.json()).then(t=>console.log(t)).then(()=>{t.target.closest(".posts__item").remove()})}})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.d8a1f66228e4703d1052.js.map